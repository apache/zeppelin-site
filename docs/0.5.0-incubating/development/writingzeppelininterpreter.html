
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Writing Zeppelin Interpreter</title>
    <meta name="description" content="">
    <meta name="author" content="The Apache Software Foundation">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/docs/0.5.0-incubating/assets/themes/zeppelin/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/docs/0.5.0-incubating/assets/themes/zeppelin/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/docs/0.5.0-incubating/assets/themes/zeppelin/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- Js -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/docs/0.5.0-incubating/assets/themes/zeppelin/bootstrap/js/bootstrap.min.js"></script>

    <!-- atom & rss feed -->
    <link href="/docs/0.5.0-incubating/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/docs/0.5.0-incubating/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>

  <body>
    
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <img src="/assets/themes/zeppelin/img/zeppelin_logo.png" width="50" alt="I'm zeppelin">
            Zeppelin <small>(0.5.0-incubating)</small>
          </a>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
          <ul class="nav navbar-nav navbar-right">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/docs/0.5.0-incubating/docs.html">Docs</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/docs/0.5.0-incubating/index.html">Overview</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
        </nav><!--/.navbar-collapse -->
      </div>
    </div>


    <div class="container">
      
<!--<div class="hero-unit Writing Zeppelin Interpreter">
  <h1></h1>
</div>
-->

<div class="row">
  <div class="col-md-12">
    <!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<h3>What is Zeppelin Interpreter</h3>

<p>Zeppelin Interpreter is a language backend. For example to use scala code in Zeppelin, you need scala interpreter.
Every Interpreter belongs to an InterpreterGroup. InterpreterGroup is a unit of start/stop interpreter.
Interpreters in the same InterpreterGroup can reference each other. For example, SparkSqlInterpreter can reference SparkInterpreter to get SparkContext from it while they&#39;re in the same group. </p>

<p><img class="img-responsive" style="width:50%; border: 1px solid #ecf0f1;" height="auto" src="/assets/themes/zeppelin/img/interpreter.png" /></p>

<p>All Interpreters in the same interpreter group are launched in a single, separate JVM process. The Interpreter communicates with Zeppelin engine via thrift.</p>

<h3>Make your own Interpreter</h3>

<p>Creating a new interpreter is quite simple. Just extend <a href="https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-interpreter/src/main/java/org/apache/zeppelin/interpreter/Interpreter.java">org.apache.zeppelin.interpreter</a> abstract class and implement some methods.</p>

<p>You can include org.apache.zeppelin:zeppelin-interpreter:[VERSION] artifact in your build system.</p>

<p>Your interpreter name is derived from the static register method</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">static {
    Interpreter.register(&quot;MyInterpreterName&quot;, MyClassName.class.getName());
  }
</code></pre></div>
<p>The name will appear later in the interpreter name option box during the interpreter configuration process.</p>

<p>The name of the interpreter is what you later write to identify a paragraph which should be interpreted using this interpreter.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">%MyInterpreterName
some interpreter spesific code...
</code></pre></div>
<h3>Install your interpreter binary</h3>

<p>Once you have build your interpreter, you can place your interpreter under directory with all the dependencies.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">[ZEPPELIN_HOME]/interpreter/[INTERPRETER_NAME]/
</code></pre></div>
<h3>Configure your interpreter</h3>

<p>To configure your interpreter you need to follow these steps:</p>

<ol>
<li><p>create conf/zeppelin-site.xml by copying conf/zeppelin-site.xml.template to conf/zeppelin-site.xml </p></li>
<li><p>Add your interpreter class name to the zeppelin.interpreters property in conf/zeppelin-site.xml</p>

<p>Property value is comma separated [INTERPRETER<em>CLASS</em>NAME]
for example,</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;property&gt;
&lt;name&gt;zeppelin.interpreters&lt;/name&gt;
&lt;value&gt;org.apache.zeppelin.spark.SparkInterpreter,org.apache.zeppelin.spark.PySparkInterpreter,org.apache.zeppelin.spark.SparkSqlInterpreter,org.apache.zeppelin.spark.DepInterpreter,org.apache.zeppelin.markdown.Markdown,org.apache.zeppelin.shell.ShellInterpreter,org.apache.zeppelin.hive.HiveInterpreter,com.me.MyNewInterpreter&lt;/value&gt;
&lt;/property&gt;
</code></pre></div></li>
<li><p>start zeppelin by running <code>./bin/zeppelin-deamon start</code></p></li>
<li><p>in the interpreter page, click the +Create button and configure your interpreter properties.
Now you are done and ready to use your interpreter.</p></li>
</ol>

<p>Note that the interpreters shipped with zeppelin have a <a href="https://github.com/apache/incubator-zeppelin/blob/master/zeppelin-zengine/src/main/java/org/apache/zeppelin/conf/ZeppelinConfiguration.java#L397">default configuration</a> which is used when there is no zeppelin-site.xml.</p>

<h3>Use your interpreter</h3>

<h4>0.5.0</h4>

<p>Inside of a notebook, %[INTERPRETER_NAME] directive will call your interpreter.
Note that the first interpreter configuration in zeppelin.interpreters will be the default one.</p>

<p>for example</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">%myintp

val a = &quot;My interpreter&quot;
println(a)
</code></pre></div>
<p><br /></p>

<h4>0.6.0 and later</h4>

<p>Inside of a notebook, %[INTERPRETER_GROUP].[INTERPRETER_NAME] directive will call your interpreter.
Note that the first interpreter configuration in zeppelin.interpreters will be the default one.</p>

<p>You can omit either [INTERPRETER_GROUP] or [INTERPRETER_NAME]. Omit [INTERPRETER_NAME] selects first available interpreter in the [INTERPRETER_GROUP].
Omit &#39;[INTERPRETER_GROUP]&#39; will selects [INTERPRETER_NAME] from default interpreter group.</p>

<p>For example, if you have two interpreter myintp1 and myintp2 in group mygrp,</p>

<p>you can call myintp1 like</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">%mygrp.myintp1

codes for myintp1
</code></pre></div>
<p>and you can call myintp2 like</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">%mygrp.myintp2

codes for myintp2
</code></pre></div>
<p>If you omit your interpreter name, it&#39;ll selects first available interpreter in the group (myintp1)</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">%mygrp

codes for myintp1
</code></pre></div>
<p>You can only omit your interpreter group when your interpreter group is selected as a default group.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">%myintp2

codes for myintp2
</code></pre></div>
<h3>Examples</h3>

<p>Check some interpreters shipped by default.</p>

<ul>
<li><a href="https://github.com/apache/incubator-zeppelin/tree/master/spark">spark</a></li>
<li><a href="https://github.com/apache/incubator-zeppelin/tree/master/markdown">markdown</a></li>
<li><a href="https://github.com/apache/incubator-zeppelin/tree/master/shell">shell</a></li>
<li><a href="https://github.com/apache/incubator-zeppelin/tree/master/hive">hive</a></li>
</ul>

  </div>
</div>


      <hr>
      <footer>
        <!-- <p>&copy; 2015 The Apache Software Foundation</p>-->
      </footer>
    </div>

    


  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45176241-5', 'zeppelin.incubator.apache.org');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>



  </body>
</html>

