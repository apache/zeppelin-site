
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Apache Zeppelin 0.11.2 Documentation: Zeppelin-Context</title>
    <meta name="description" content="The Zeppelin-Context is a system-wide container for a variety of user-specific settings and parameters that are accessible across notebooks, cells, and interpreters.">
    <meta name="author" content="The Apache Software Foundation">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Le styles -->
    <link href="/docs/0.11.2/assets/themes/zeppelin/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/docs/0.11.2/assets/themes/zeppelin/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/docs/0.11.2/assets/themes/zeppelin/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- Js -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/bootstrap/js/bootstrap.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/docs.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/anchor.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/toc.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/lunr.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/search.js"></script>    

    <!-- atom & rss feed -->
    <link href="/docs/0.11.2/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/docs/0.11.2/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>

  <body>
    
        <div id="menu" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container navbar-container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="navbar-brand">
            <a class="navbar-brand-main" href="http://zeppelin.apache.org">
              <img src="/docs/0.11.2/assets/themes/zeppelin/img/zeppelin_logo.png" width="50"
                   style="margin-top: -2px;" alt="I'm zeppelin">
              <span style="margin-left: 5px; font-size: 27px;">Zeppelin</span>
              <a class="navbar-brand-version" href="/docs/0.11.2"
                 style="font-size: 15px; color: white;"> 0.11.2
              </a>
            </a>
          </div>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Quick Start <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="title"><span>Getting Started</span></li>
                <li><a href="/docs/0.11.2/quickstart/install.html">Install</a></li>
                <li><a href="/docs/0.11.2/quickstart/explore_ui.html">Explore UI</a></li>
                <li><a href="/docs/0.11.2/quickstart/tutorial.html">Tutorial</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Run Mode</span></li>
                <li><a href="/docs/0.11.2/quickstart/kubernetes.html">Kubernetes</a></li>
                <li><a href="/docs/0.11.2/quickstart/docker.html">Docker</a></li>
                <li><a href="/docs/0.11.2/quickstart/yarn.html">Yarn</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="/docs/0.11.2/quickstart/spark_with_zeppelin.html">Spark with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/flink_with_zeppelin.html">Flink with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/sql_with_zeppelin.html">SQL with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/python_with_zeppelin.html">Python with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/r_with_zeppelin.html">R with Zeppelin</a></li>
              </ul>
            </li>

            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Usage<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li class="title"><span>Dynamic Form</span></li>
                <li><a href="/docs/0.11.2/usage/dynamic_form/intro.html">What is Dynamic Form?</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Display System</span></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#text">Text Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#html">HTML Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#table">Table Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#network">Network Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/angular_backend.html">Angular Display using Backend API</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/angular_frontend.html">Angular Display using Frontend API</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Interpreter</span></li>
                <li><a href="/docs/0.11.2/usage/interpreter/overview.html">Overview</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/interpreter_binding_mode.html">Interpreter Binding Mode</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/user_impersonation.html">User Impersonation</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/dependency_management.html">Dependency Management</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/installation.html">Installing Interpreters</a></li>
                <!--<li><a href="/docs/0.11.2/usage/interpreter/dynamic_loading.html">Dynamic Interpreter Loading (Experimental)</a></li>-->
                <li><a href="/docs/0.11.2/usage/interpreter/execution_hooks.html">Execution Hooks (Experimental)</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Other Features</span></li>
                <li><a href="/docs/0.11.2/usage/other_features/publishing_paragraphs.html">Publishing Paragraphs</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/personalized_mode.html">Personalized Mode</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/customizing_homepage.html">Customizing Zeppelin Homepage</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/notebook_actions.html">Notebook Actions</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/cron_scheduler.html">Cron Scheduler</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/zeppelin_context.html">Zeppelin Context</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>REST API</span></li>
                <li><a href="/docs/0.11.2/usage/rest_api/interpreter.html">Interpreter API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/zeppelin_server.html">Zeppelin Server API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/notebook.html">Notebook API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/notebook_repository.html">Notebook Repository API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/configuration.html">Configuration API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/credential.html">Credential API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/helium.html">Helium API</a></li>
                <li class="title"><span>Zeppelin SDK</span></li>
                <li><a href="/docs/0.11.2/usage/zeppelin_sdk/client_api.html">Client API</a></li>
                <li><a href="/docs/0.11.2/usage/zeppelin_sdk/session_api.html">Session API</a></li>
              </ul>
            </li>

            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Setup<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li class="title"><span>Basics</span></li>
                <li><a href="/docs/0.11.2/setup/basics/how_to_build.html">How to Build Zeppelin</a></li>
                <li><a href="/docs/0.11.2/setup/basics/hadoop_integration.html">Hadoop Integration</a></li>
                <li><a href="/docs/0.11.2/setup/basics/multi_user_support.html">Multi-user Support</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Deployment</span></li>
                <!--<li><a href="/docs/0.11.2/setup/deployment/docker.html">Docker Image for Zeppelin</a></li>-->
                <li><a href="/docs/0.11.2/setup/deployment/spark_cluster_mode.html#spark-standalone-mode">Spark Cluster Mode: Standalone</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/spark_cluster_mode.html#spark-on-yarn-mode">Spark Cluster Mode: YARN</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/spark_cluster_mode.html#spark-on-mesos-mode">Spark Cluster Mode: Mesos</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/flink_and_spark_cluster.html">Zeppelin with Flink, Spark Cluster</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/cdh.html">Zeppelin on CDH</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/virtual_machine.html">Zeppelin on VM: Vagrant</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Security</span></li>
                <li><a href="/docs/0.11.2/setup/security/authentication_nginx.html">HTTP Basic Auth using NGINX</a></li>
                <li><a href="/docs/0.11.2/setup/security/shiro_authentication.html">Shiro Authentication</a></li>
                <li><a href="/docs/0.11.2/setup/security/notebook_authorization.html">Notebook Authorization</a></li>
                <li><a href="/docs/0.11.2/setup/security/datasource_authorization.html">Data Source Authorization</a></li>
                <li><a href="/docs/0.11.2/setup/security/http_security_headers.html">HTTP Security Headers</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Notebook Storage</span></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-local-git-repository">Git Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-s3">S3 Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-azure">Azure Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-google-cloud-storage">Google Cloud Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-oss">OSS Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-mongodb">MongoDB Storage</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Operation</span></li>
                <li><a href="/docs/0.11.2/setup/operation/configuration.html">Configuration</a></li>
                <li><a href="/docs/0.11.2/setup/operation/monitoring.html">Monitoring</a></li>
                <li><a href="/docs/0.11.2/setup/operation/proxy_setting.html">Proxy Setting</a></li>
                <li><a href="/docs/0.11.2/setup/operation/upgrading.html">Upgrading</a></li>
                <li><a href="/docs/0.11.2/setup/operation/trouble_shooting.html">Trouble Shooting</a></li>
              </ul>
            </li>

            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Interpreter <b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li class="title"><span>Interpreters</span></li>
                <li><a href="/docs/0.11.2/usage/interpreter/overview.html">Overview</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="/docs/0.11.2/interpreter/spark.html">Spark</a></li>
                <li><a href="/docs/0.11.2/interpreter/flink.html">Flink</a></li>
                <li><a href="/docs/0.11.2/interpreter/jdbc.html">JDBC</a></li>
                <li><a href="/docs/0.11.2/interpreter/python.html">Python</a></li>
                <li><a href="/docs/0.11.2/interpreter/r.html">R</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="/docs/0.11.2/interpreter/alluxio.html">Alluxio</a></li>
                <li><a href="/docs/0.11.2/interpreter/bigquery.html">BigQuery</a></li>
                <li><a href="/docs/0.11.2/interpreter/cassandra.html">Cassandra</a></li>
                <li><a href="/docs/0.11.2/interpreter/elasticsearch.html">Elasticsearch</a></li>
                <li><a href="/docs/0.11.2/interpreter/groovy.html">Groovy</a></li>
                <li><a href="/docs/0.11.2/interpreter/hbase.html">HBase</a></li>
                <li><a href="/docs/0.11.2/interpreter/hdfs.html">HDFS</a></li>
                <li><a href="/docs/0.11.2/interpreter/hive.html">Hive</a></li>
                <li><a href="/docs/0.11.2/interpreter/influxdb.html">influxDB</a></li>
                <li><a href="/docs/0.11.2/interpreter/java.html">Java</a></li>
                <li><a href="/docs/0.11.2/interpreter/jupyter.html">Jupyter</a></li>
                <li><a href="/docs/0.11.2/interpreter/livy.html">Livy</a></li>
                <li><a href="/docs/0.11.2/interpreter/mahout.html">Mahout</a></li>
                <li><a href="/docs/0.11.2/interpreter/markdown.html">Markdown</a></li>
                <li><a href="/docs/0.11.2/interpreter/mongodb.html">MongoDB</a></li>
                <li><a href="/docs/0.11.2/interpreter/neo4j.html">Neo4j</a></li>
                <li><a href="/docs/0.11.2/interpreter/postgresql.html">Postgresql, HAWQ</a></li>
                <li><a href="/docs/0.11.2/interpreter/shell.html">Shell</a></li>
                <li><a href="/docs/0.11.2/interpreter/sparql.html">Sparql</a></li>
                <li><a href="/docs/0.11.2/interpreter/submarine.html">Submarine</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu" style="right: 0; left: auto;">
                <li class="title"><span>Extending Zeppelin</span></li>
                <li><a href="/docs/0.11.2/development/writing_zeppelin_interpreter.html">Writing Zeppelin Interpreter</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Helium (Experimental)</span></li>
                <li><a href="/docs/0.11.2/development/helium/overview.html">Overview</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_application.html">Writing Helium Application</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_spell.html">Writing Helium Spell</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_visualization_basic.html">Writing Helium Visualization: Basics</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_visualization_transformation.html">Writing Helium Visualization: Transformation</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Contributing to Zeppelin</span></li>
                <li><a href="/docs/0.11.2/setup/basics/how_to_build.html">How to Build Zeppelin</a></li>
                <li><a href="/docs/0.11.2/development/contribution/useful_developer_tools.html">Useful Developer Tools</a></li>
                <li><a href="/docs/0.11.2/development/contribution/how_to_contribute_code.html">How to Contribute (code)</a></li>
                <li><a href="/docs/0.11.2/development/contribution/how_to_contribute_website.html">How to Contribute (website)</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>External Resources</span></li>
                <li><a target="_blank" rel="noopener noreferrer" href="https://zeppelin.apache.org/community.html">Mailing List</a></li>
                <li><a target="_blank" rel="noopener noreferrer" href="https://cwiki.apache.org/confluence/display/ZEPPELIN/Zeppelin+Home">Apache Zeppelin Wiki</a></li>
                <li><a target="_blank" rel="noopener noreferrer" href="http://stackoverflow.com/questions/tagged/apache-zeppelin">Stackoverflow Questions about Zeppelin</a></li>
              </ul>
            </li>
            <li>
              <a href="/docs/0.11.2/search.html" class="nav-search-link">
                <span class="fa fa-search nav-search-icon"></span>
              </a>
            </li>
          </ul>
        </nav><!--/.navbar-collapse -->
      </div>
    </div>



    <div class="content">
      
<!--<div class="hero-unit Zeppelin-Context">
  <h1></h1>
</div>
-->

<div class="row">
  <div class="col-md-12">
    <!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<h1>Zeppelin-Context</h1>

<div id="toc"></div>

<p>The zeppelin-context is a system-wide container for common utility functions and
user-specific data. It implements functions for data input, data display, etc. that are
often needed but are not uniformly available in all interpreters.
Its single per-user instance is accessible across all of the user&#39;s notebooks and cells,
enabling data exchange between cells - even in different notebooks.
But the way in which the zeppelin-context is used, and the functionality available differs
depending on whether or not the associated interpreter is based on a programming language.
Details of how the zeppelin-context is used for different purposes and in different
environments is described below.</p>

<h2>Usage in Programming Language Cells</h2>

<p>In many programming-language interpreters (e.g. Apache Spark, Python, R) the zeppelin-context is available
as a predefined variable <code>z</code> that can be used by directly invoking its methods.
The methods available on the <code>z</code> object are described below.
Other interpreters based on programming languages. also provide the predefined variable <code>z</code>.</p>

<h3>Exploring Spark DataFrames</h3>

<p>In the Apache Spark interpreter, the zeppelin-context provides a <code>show</code> method, which, 
using Zeppelin&#39;s <code>table</code> feature, can be used to nicely display a Spark DataFrame:</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala"><span class="n">df</span> <span class="k">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">csv</span><span class="o">(</span><span class="err">&#39;</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">csv</span><span class="err">&#39;</span><span class="o">)</span>
<span class="n">z</span><span class="o">.</span><span class="n">show</span><span class="o">(</span><span class="n">df</span><span class="o">)</span>
</code></pre></div>
<p>This display functionality using the <code>show</code> method is planned to be extended uniformly to 
other interpreters that can access the <code>z</code> object (Flink already support to show table too).</p>

<h3>Object Exchange</h3>

<p><code>ZeppelinContext</code> extends map and it&#39;s shared between the Apache Spark and Python environments.
So you can put some objects using Scala (in an Apache Spark cell) and read it from Python, and vice versa.</p>

<div class="codetabs">
  <div data-lang="scala" markdown="1">


<div class="highlight"><pre><code class="scala"><span class="c1">// Put/Get object from scala</span>
<span class="o">%</span><span class="n">spark</span>

<span class="k">val</span> <span class="n">myObject</span> <span class="k">=</span> <span class="s">&quot;hello&quot;</span>
<span class="n">z</span><span class="o">.</span><span class="n">put</span><span class="o">(</span><span class="s">&quot;objName&quot;</span><span class="o">,</span> <span class="n">myObject</span><span class="o">)</span>
<span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;objName&quot;</span><span class="o">)</span>
</code></pre></div>


  </div>
  <div data-lang="python" markdown="1">


<div class="highlight"><pre><code class="python"><span class="c"># Put/Get object from python</span>
<span class="o">%</span><span class="n">spark</span><span class="o">.</span><span class="n">pyspark</span>

<span class="n">val</span> <span class="n">myObject</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span>
<span class="n">z</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s">&quot;objName&quot;</span><span class="p">,</span> <span class="n">myObject</span><span class="p">)</span>
<span class="n">myObject</span> <span class="o">=</span> <span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;objName&quot;</span><span class="p">)</span>

<span class="c"># df is Python pandas DataFrame</span>
<span class="c"># &quot;table_name&quot; must be table type. Currently only sql interpreter (%spark.sql or %jdbc) result is supported.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">z</span><span class="o">.</span><span class="n">getAsDataFrame</span><span class="p">(</span><span class="s">&quot;table_name&quot;</span><span class="p">)</span>
</code></pre></div>


  </div>
  
<div data-lang="R" markdown="1">


<div class="highlight"><pre><code class="python"><span class="c"># Get/Put object from R</span>
<span class="o">%</span><span class="n">spark</span><span class="o">.</span><span class="n">r</span>

<span class="n">z</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s">&quot;objName&quot;</span><span class="p">,</span> <span class="n">myObject</span><span class="p">)</span>
<span class="n">myObject</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;objName&quot;</span><span class="p">)</span>

<span class="c"># df is R DataFrame</span>
<span class="c"># &quot;table_name&quot; must be table type. Currently only sql interpreter (%spark.sql or %jdbc) result is supported.</span>
<span class="n">df</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="o">.</span><span class="n">getAsDataFrame</span><span class="p">(</span><span class="s">&quot;table_name&quot;</span><span class="p">)</span>
</code></pre></div>


  </div>
  
</div>

<p>Currently, there&#39;re two types of data could be shared across interpreters:</p>

<ul>
<li>String Data</li>
<li>Table Data</li>
</ul>

<h4>Share String Object</h4>

<p>Here&#39;s one example we share one String object <code>maxAge</code> between Spark interpreter and jdbc interpreter.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala"><span class="o">%</span><span class="n">spark</span>

<span class="n">z</span><span class="o">.</span><span class="n">put</span><span class="o">(</span><span class="s">&quot;maxAge&quot;</span><span class="o">,</span> <span class="mi">83</span><span class="o">)</span>
</code></pre></div><div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">jdbc</span><span class="p">(</span><span class="n">interpolate</span><span class="o">=</span><span class="k">true</span><span class="p">)</span>

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">bank</span> <span class="k">where</span> <span class="n">age</span> <span class="o">=</span> <span class="err">{</span><span class="n">maxAge</span><span class="err">}</span>
</code></pre></div>
<p><img src="/docs/0.11.2/assets/themes/zeppelin/img/docs-img/zeppelin_context_share_string.png" height="100%" width="100%"></p>

<h4>Share Table Object</h4>

<p>Here&#39;s one example we share one Table object between jdbc interpreter and python interpreter.</p>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">jdbc</span><span class="p">(</span><span class="n">saveAs</span><span class="o">=</span><span class="n">bank</span><span class="p">)</span>

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">bank</span>
</code></pre></div><div class="highlight"><pre><code class="python language-python" data-lang="python"><span class="o">%</span><span class="n">python</span><span class="o">.</span><span class="n">ipython</span>

<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s">&quot;ignore&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="n">ggplot</span><span class="p">,</span> <span class="n">geom_histogram</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">facet_wrap</span>

<span class="n">bank</span> <span class="o">=</span> <span class="n">z</span><span class="o">.</span><span class="n">getAsDataFrame</span><span class="p">(</span><span class="s">&#39;bank&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">bank</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#39;age&#39;</span><span class="p">))</span>
</code></pre></div>
<p><img src="/docs/0.11.2/assets/themes/zeppelin/img/docs-img/zeppelin_context_share_table.png" height="100%" width="100%"></p>

<h3>Form Creation</h3>

<p><code>ZeppelinContext</code> provides functions for creating forms.
In Scala and Python environments, you can create forms programmatically.
<div class="codetabs">
  <div data-lang="scala" markdown="1"></p>

<div class="highlight"><pre><code class="scala"><span class="o">%</span><span class="n">spark</span>

<span class="cm">/* Create text input form */</span>
<span class="n">z</span><span class="o">.</span><span class="n">input</span><span class="o">(</span><span class="s">&quot;input_1&quot;</span><span class="o">)</span>

<span class="cm">/* Create text input form with default value */</span>
<span class="n">z</span><span class="o">.</span><span class="n">input</span><span class="o">(</span><span class="s">&quot;input_2&quot;</span><span class="o">,</span> <span class="s">&quot;defaultValue&quot;</span><span class="o">)</span>

<span class="cm">/* Create select form */</span>
<span class="n">z</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="s">&quot;select_1&quot;</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">((</span><span class="s">&quot;option1&quot;</span><span class="o">,</span> <span class="s">&quot;option1DisplayName&quot;</span><span class="o">),</span>
                         <span class="o">(</span><span class="s">&quot;option2&quot;</span><span class="o">,</span> <span class="s">&quot;option2DisplayName&quot;</span><span class="o">)))</span>

<span class="cm">/* Create select form with default value*/</span>
<span class="n">z</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="s">&quot;select_2&quot;</span><span class="o">,</span> <span class="s">&quot;option1&quot;</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">((</span><span class="s">&quot;option1&quot;</span><span class="o">,</span> <span class="s">&quot;option1DisplayName&quot;</span><span class="o">),</span>
                                    <span class="o">(</span><span class="s">&quot;option2&quot;</span><span class="o">,</span> <span class="s">&quot;option2DisplayName&quot;</span><span class="o">)))</span>
</code></pre></div>


  </div>
  <div data-lang="python" markdown="1">


<div class="highlight"><pre><code class="python"><span class="o">%</span><span class="n">spark</span><span class="o">.</span><span class="n">pyspark</span>

<span class="c"># Create text input form</span>
<span class="n">z</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="s">&quot;input_1&quot;</span><span class="p">)</span>

<span class="c"># Create text input form with default value</span>
<span class="n">z</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="s">&quot;input_2&quot;</span><span class="p">,</span> <span class="s">&quot;defaultValue&quot;</span><span class="p">)</span>

<span class="c"># Create select form</span>
<span class="n">z</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;select_1&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;option1DisplayName&quot;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="s">&quot;option2DisplayName&quot;</span><span class="p">)])</span>

<span class="c"># Create select form with default value</span>
<span class="n">z</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;select_2&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;option1DisplayName&quot;</span><span class="p">),</span>
                      <span class="p">(</span><span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="s">&quot;option2DisplayName&quot;</span><span class="p">)],</span> <span class="s">&quot;option1&quot;</span><span class="p">)</span>
</code></pre></div>


  </div>
</div>

<p>Patterns of the form ${ ... } are used to dynamically create additional HTML elements
for requesting user input (that replaces the corresponding pattern in the paragraph text). 
Currently only <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text">text</a>, 
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select">select</a> with 
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option">options</a>, and 
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox">checkbox</a> are supported.</p>

<p>Dynamic forms are described in detail here: <a href="../usage/dynamic_form/intro.html">Dynamic Form</a>.</p>

<p>In sql environment, you can create dynamic form in simple template.</p>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">spark</span><span class="p">.</span><span class="k">sql</span>

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="err">${</span><span class="k">table</span><span class="o">=</span><span class="n">defaultTableName</span><span class="err">}</span> <span class="k">where</span> <span class="nb">text</span> <span class="k">like</span> <span class="s1">&#39;%${search}%&#39;</span>
</code></pre></div>
<p>To learn more about dynamic form, checkout <a href="../usage/dynamic_form/intro.html">Dynamic Form</a>.</p>

<h2>Usage with Embedded Commands</h2>

<p>In certain interpreters (see table below) zeppelin-context features may be invoked by embedding 
command strings into the paragraph text. Such embedded command strings are used to invoke 
dynamic-forms and object-interpolation as described below. </p>

<table><thead>
<tr>
<th>Interpreters that use Embedded Commands</th>
</tr>
</thead><tbody>
<tr>
<td>spark.sql (*), bigquery, cassandra, elasticsearch, file, hbase, jdbc (*), livy, markdown, neo4j, python, shell (*), zengine</td>
</tr>
</tbody></table>

<p>Dynamic forms are available in all of the interpreters in the table above, 
but object interpolation is only available in a small, but growing, list of interpreters 
(marked with an asterisk in the table above).
Both these zeppelin-context features are described below.</p>

<h3>Object Interpolation</h3>

<p>Some interpreters can interpolate object values from <code>z</code> into the paragraph text by using the
<code>{variable-name}</code> syntax. The value of any object previously <code>put</code> into <code>z</code> can be
interpolated into a paragraph text by using such a pattern containing the object&#39;s name.
The following example shows one use of this facility:</p>

<h4>In Scala cell:</h4>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala"><span class="o">%</span><span class="n">spark</span>

<span class="n">z</span><span class="o">.</span><span class="n">put</span><span class="o">(</span><span class="s">&quot;minAge&quot;</span><span class="o">,</span> <span class="mi">35</span><span class="o">)</span>
</code></pre></div>
<h4>In later SQL cell:</h4>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">spark</span><span class="p">.</span><span class="k">sql</span> 

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">members</span> <span class="k">where</span> <span class="n">age</span> <span class="o">&gt;=</span> <span class="err">{</span><span class="n">minAge</span><span class="err">}</span>
</code></pre></div>
<p>The interpolation of a <code>{var-name}</code> pattern is performed only when <code>z</code> contains an object with the specified name.
But the pattern is left unchanged if the named object does not exist in <code>z</code>.
Further, all <code>{var-name}</code> patterns within the paragraph text must be translatable for any interpolation to occur --
translation of only some of the patterns in a paragraph text is never done.</p>

<p>In some situations, it is necessary to use { and } characters in a paragraph text without invoking the
object interpolation mechanism. For these cases an escaping mechanism is available --
doubled braces  should be used. The following example shows the use of  for passing a
regular expression containing just { and } into the paragraph text.</p>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">spark</span><span class="p">.</span><span class="k">sql</span> 

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">members</span> <span class="k">where</span> <span class="n">name</span> <span class="n">rlike</span> <span class="s1">&#39;[aeiou]{{3}}&#39;</span>
</code></pre></div>
<p>To summarize, patterns of the form <code>{var-name}</code> within the paragraph text will be interpolated only if a predefined
object of the specified name exists. Additionally, all such patterns within the paragraph text should also
be translatable for any interpolation to occur. Patterns of the form  <code>{{any-text}}</code>  are translated into <code>{any-text}</code>.
These translations are performed only when all occurrences of <code>{</code>, <code>}</code>,  <code>{{</code>, and <code>}}</code> in the paragraph text conform
to one of the two forms described above. Paragraph text containing <code>{</code> and/or <code>}</code> characters used in any other way
(than <code>{var-name}</code> and  <code>{{any-text}}</code>  ) is used as-is without any changes.
No error is flagged in any case. This behavior is identical to the implementation of a similar feature in
Jupyter&#39;s shell invocation using the <code>!</code> magic command.</p>

<p>This feature is disabled by default, and must be explicitly turned on for each interpreter independently
by setting the value of an interpreter-specific property to <code>true</code>.
Consult the <em>Configuration</em> section of each interpreter&#39;s documentation
to find out if object interpolation is implemented, and the name of the parameter that must be set to <code>true</code> to
enable the feature. The name of the parameter used to enable this feature is different for each interpreter.
For example, the SparkSQL and Shell interpreters use the parameter names <code>zeppelin.spark.sql.interpolation</code> and
<code>zeppelin.shell.interpolation</code> respectively.</p>

<p>At present only the SparkSQL, JDBC, and Shell interpreters support object interpolation.</p>

<h3>Interpreter-Specific Functions</h3>

<p>Some interpreters use a subclass of <code>BaseZepplinContext</code> augmented with interpreter-specific functions.
Such interpreter-specific functions are described within each interpreter&#39;s documentation.</p>

  </div>
</div>


      <hr>
      <footer>
        <!-- <p>&copy; 2024 The Apache Software Foundation</p>-->
      </footer>
    </div>

    


  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45176241-5', 'zeppelin.apache.org');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>



  </body>
</html>

