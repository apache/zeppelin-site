
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Apache Zeppelin 0.11.2 Documentation: Install Zeppelin to connect with existing YARN cluster</title>
    <meta name="description" content="This page describes how to pre-configure a bare metal node, configure Apache Zeppelin and connect it to existing YARN cluster running Hortonworks flavour of Hadoop.">
    <meta name="author" content="The Apache Software Foundation">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Le styles -->
    <link href="/docs/0.11.2/assets/themes/zeppelin/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/docs/0.11.2/assets/themes/zeppelin/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/docs/0.11.2/assets/themes/zeppelin/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- Js -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/bootstrap/js/bootstrap.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/docs.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/anchor.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/toc.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/lunr.min.js"></script>
    <script src="/docs/0.11.2/assets/themes/zeppelin/js/search.js"></script>    

    <!-- atom & rss feed -->
    <link href="/docs/0.11.2/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/docs/0.11.2/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>

  <body>
    
        <div id="menu" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container navbar-container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="navbar-brand">
            <a class="navbar-brand-main" href="http://zeppelin.apache.org">
              <img src="/docs/0.11.2/assets/themes/zeppelin/img/zeppelin_logo.png" width="50"
                   style="margin-top: -2px;" alt="I'm zeppelin">
              <span style="margin-left: 5px; font-size: 27px;">Zeppelin</span>
              <a class="navbar-brand-version" href="/docs/0.11.2"
                 style="font-size: 15px; color: white;"> 0.11.2
              </a>
            </a>
          </div>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Quick Start <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="title"><span>Getting Started</span></li>
                <li><a href="/docs/0.11.2/quickstart/install.html">Install</a></li>
                <li><a href="/docs/0.11.2/quickstart/explore_ui.html">Explore UI</a></li>
                <li><a href="/docs/0.11.2/quickstart/tutorial.html">Tutorial</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Run Mode</span></li>
                <li><a href="/docs/0.11.2/quickstart/kubernetes.html">Kubernetes</a></li>
                <li><a href="/docs/0.11.2/quickstart/docker.html">Docker</a></li>
                <li><a href="/docs/0.11.2/quickstart/yarn.html">Yarn</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="/docs/0.11.2/quickstart/spark_with_zeppelin.html">Spark with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/flink_with_zeppelin.html">Flink with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/sql_with_zeppelin.html">SQL with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/python_with_zeppelin.html">Python with Zeppelin</a></li>
                <li><a href="/docs/0.11.2/quickstart/r_with_zeppelin.html">R with Zeppelin</a></li>
              </ul>
            </li>

            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Usage<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li class="title"><span>Dynamic Form</span></li>
                <li><a href="/docs/0.11.2/usage/dynamic_form/intro.html">What is Dynamic Form?</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Display System</span></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#text">Text Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#html">HTML Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#table">Table Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/basic.html#network">Network Display</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/angular_backend.html">Angular Display using Backend API</a></li>
                <li><a href="/docs/0.11.2/usage/display_system/angular_frontend.html">Angular Display using Frontend API</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Interpreter</span></li>
                <li><a href="/docs/0.11.2/usage/interpreter/overview.html">Overview</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/interpreter_binding_mode.html">Interpreter Binding Mode</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/user_impersonation.html">User Impersonation</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/dependency_management.html">Dependency Management</a></li>
                <li><a href="/docs/0.11.2/usage/interpreter/installation.html">Installing Interpreters</a></li>
                <!--<li><a href="/docs/0.11.2/usage/interpreter/dynamic_loading.html">Dynamic Interpreter Loading (Experimental)</a></li>-->
                <li><a href="/docs/0.11.2/usage/interpreter/execution_hooks.html">Execution Hooks (Experimental)</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Other Features</span></li>
                <li><a href="/docs/0.11.2/usage/other_features/publishing_paragraphs.html">Publishing Paragraphs</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/personalized_mode.html">Personalized Mode</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/customizing_homepage.html">Customizing Zeppelin Homepage</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/notebook_actions.html">Notebook Actions</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/cron_scheduler.html">Cron Scheduler</a></li>
                <li><a href="/docs/0.11.2/usage/other_features/zeppelin_context.html">Zeppelin Context</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>REST API</span></li>
                <li><a href="/docs/0.11.2/usage/rest_api/interpreter.html">Interpreter API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/zeppelin_server.html">Zeppelin Server API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/notebook.html">Notebook API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/notebook_repository.html">Notebook Repository API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/configuration.html">Configuration API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/credential.html">Credential API</a></li>
                <li><a href="/docs/0.11.2/usage/rest_api/helium.html">Helium API</a></li>
                <li class="title"><span>Zeppelin SDK</span></li>
                <li><a href="/docs/0.11.2/usage/zeppelin_sdk/client_api.html">Client API</a></li>
                <li><a href="/docs/0.11.2/usage/zeppelin_sdk/session_api.html">Session API</a></li>
              </ul>
            </li>

            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Setup<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li class="title"><span>Basics</span></li>
                <li><a href="/docs/0.11.2/setup/basics/how_to_build.html">How to Build Zeppelin</a></li>
                <li><a href="/docs/0.11.2/setup/basics/hadoop_integration.html">Hadoop Integration</a></li>
                <li><a href="/docs/0.11.2/setup/basics/multi_user_support.html">Multi-user Support</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Deployment</span></li>
                <!--<li><a href="/docs/0.11.2/setup/deployment/docker.html">Docker Image for Zeppelin</a></li>-->
                <li><a href="/docs/0.11.2/setup/deployment/spark_cluster_mode.html#spark-standalone-mode">Spark Cluster Mode: Standalone</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/spark_cluster_mode.html#spark-on-yarn-mode">Spark Cluster Mode: YARN</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/spark_cluster_mode.html#spark-on-mesos-mode">Spark Cluster Mode: Mesos</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/flink_and_spark_cluster.html">Zeppelin with Flink, Spark Cluster</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/cdh.html">Zeppelin on CDH</a></li>
                <li><a href="/docs/0.11.2/setup/deployment/virtual_machine.html">Zeppelin on VM: Vagrant</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Security</span></li>
                <li><a href="/docs/0.11.2/setup/security/authentication_nginx.html">HTTP Basic Auth using NGINX</a></li>
                <li><a href="/docs/0.11.2/setup/security/shiro_authentication.html">Shiro Authentication</a></li>
                <li><a href="/docs/0.11.2/setup/security/notebook_authorization.html">Notebook Authorization</a></li>
                <li><a href="/docs/0.11.2/setup/security/datasource_authorization.html">Data Source Authorization</a></li>
                <li><a href="/docs/0.11.2/setup/security/http_security_headers.html">HTTP Security Headers</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Notebook Storage</span></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-local-git-repository">Git Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-s3">S3 Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-azure">Azure Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-google-cloud-storage">Google Cloud Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-oss">OSS Storage</a></li>
                <li><a href="/docs/0.11.2/setup/storage/storage.html#notebook-storage-in-mongodb">MongoDB Storage</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Operation</span></li>
                <li><a href="/docs/0.11.2/setup/operation/configuration.html">Configuration</a></li>
                <li><a href="/docs/0.11.2/setup/operation/monitoring.html">Monitoring</a></li>
                <li><a href="/docs/0.11.2/setup/operation/proxy_setting.html">Proxy Setting</a></li>
                <li><a href="/docs/0.11.2/setup/operation/upgrading.html">Upgrading</a></li>
                <li><a href="/docs/0.11.2/setup/operation/trouble_shooting.html">Trouble Shooting</a></li>
              </ul>
            </li>

            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Interpreter <b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li class="title"><span>Interpreters</span></li>
                <li><a href="/docs/0.11.2/usage/interpreter/overview.html">Overview</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="/docs/0.11.2/interpreter/spark.html">Spark</a></li>
                <li><a href="/docs/0.11.2/interpreter/flink.html">Flink</a></li>
                <li><a href="/docs/0.11.2/interpreter/jdbc.html">JDBC</a></li>
                <li><a href="/docs/0.11.2/interpreter/python.html">Python</a></li>
                <li><a href="/docs/0.11.2/interpreter/r.html">R</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="/docs/0.11.2/interpreter/alluxio.html">Alluxio</a></li>
                <li><a href="/docs/0.11.2/interpreter/bigquery.html">BigQuery</a></li>
                <li><a href="/docs/0.11.2/interpreter/cassandra.html">Cassandra</a></li>
                <li><a href="/docs/0.11.2/interpreter/elasticsearch.html">Elasticsearch</a></li>
                <li><a href="/docs/0.11.2/interpreter/groovy.html">Groovy</a></li>
                <li><a href="/docs/0.11.2/interpreter/hbase.html">HBase</a></li>
                <li><a href="/docs/0.11.2/interpreter/hdfs.html">HDFS</a></li>
                <li><a href="/docs/0.11.2/interpreter/hive.html">Hive</a></li>
                <li><a href="/docs/0.11.2/interpreter/influxdb.html">influxDB</a></li>
                <li><a href="/docs/0.11.2/interpreter/java.html">Java</a></li>
                <li><a href="/docs/0.11.2/interpreter/jupyter.html">Jupyter</a></li>
                <li><a href="/docs/0.11.2/interpreter/livy.html">Livy</a></li>
                <li><a href="/docs/0.11.2/interpreter/mahout.html">Mahout</a></li>
                <li><a href="/docs/0.11.2/interpreter/markdown.html">Markdown</a></li>
                <li><a href="/docs/0.11.2/interpreter/mongodb.html">MongoDB</a></li>
                <li><a href="/docs/0.11.2/interpreter/neo4j.html">Neo4j</a></li>
                <li><a href="/docs/0.11.2/interpreter/postgresql.html">Postgresql, HAWQ</a></li>
                <li><a href="/docs/0.11.2/interpreter/shell.html">Shell</a></li>
                <li><a href="/docs/0.11.2/interpreter/sparql.html">Sparql</a></li>
                <li><a href="/docs/0.11.2/interpreter/submarine.html">Submarine</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu" style="right: 0; left: auto;">
                <li class="title"><span>Extending Zeppelin</span></li>
                <li><a href="/docs/0.11.2/development/writing_zeppelin_interpreter.html">Writing Zeppelin Interpreter</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Helium (Experimental)</span></li>
                <li><a href="/docs/0.11.2/development/helium/overview.html">Overview</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_application.html">Writing Helium Application</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_spell.html">Writing Helium Spell</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_visualization_basic.html">Writing Helium Visualization: Basics</a></li>
                <li><a href="/docs/0.11.2/development/helium/writing_visualization_transformation.html">Writing Helium Visualization: Transformation</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>Contributing to Zeppelin</span></li>
                <li><a href="/docs/0.11.2/setup/basics/how_to_build.html">How to Build Zeppelin</a></li>
                <li><a href="/docs/0.11.2/development/contribution/useful_developer_tools.html">Useful Developer Tools</a></li>
                <li><a href="/docs/0.11.2/development/contribution/how_to_contribute_code.html">How to Contribute (code)</a></li>
                <li><a href="/docs/0.11.2/development/contribution/how_to_contribute_website.html">How to Contribute (website)</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span>External Resources</span></li>
                <li><a target="_blank" rel="noopener noreferrer" href="https://zeppelin.apache.org/community.html">Mailing List</a></li>
                <li><a target="_blank" rel="noopener noreferrer" href="https://cwiki.apache.org/confluence/display/ZEPPELIN/Zeppelin+Home">Apache Zeppelin Wiki</a></li>
                <li><a target="_blank" rel="noopener noreferrer" href="http://stackoverflow.com/questions/tagged/apache-zeppelin">Stackoverflow Questions about Zeppelin</a></li>
              </ul>
            </li>
            <li>
              <a href="/docs/0.11.2/search.html" class="nav-search-link">
                <span class="fa fa-search nav-search-icon"></span>
              </a>
            </li>
          </ul>
        </nav><!--/.navbar-collapse -->
      </div>
    </div>



    <div class="content">
      
<!--<div class="hero-unit Install Zeppelin to connect with existing YARN cluster">
  <h1></h1>
</div>
-->

<div class="row">
  <div class="col-md-12">
    <!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<h2>Introduction</h2>

<p>This page describes how to pre-configure a bare metal node, configure Zeppelin and connect it to existing YARN cluster running Hortonworks flavour of Hadoop. It also describes steps to configure Spark interpreter of Zeppelin.</p>

<h2>Prepare Node</h2>

<h3>Zeppelin user (Optional)</h3>

<p>This step is optional, however its nice to run Zeppelin under its own user. In case you do not like to use Zeppelin (hope not) the user could be deleted along with all the packages that were installed for Zeppelin, Zeppelin binary itself and associated directories.</p>

<p>Create a zeppelin user and switch to zeppelin user or if zeppelin user is already created then login as zeppelin.</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash">useradd zeppelin
su - zeppelin
whoami
</code></pre></div>
<p>Assuming a zeppelin user is created then running whoami command must return</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash">zeppelin
</code></pre></div>
<p>Its assumed in the rest of the document that zeppelin user is indeed created and below installation instructions are performed as zeppelin user.</p>

<h3>List of Prerequisites</h3>

<ul>
<li>CentOS 6.x, Mac OSX, Ubuntu 14.X</li>
<li>Java 1.8</li>
<li>Hadoop client</li>
<li>Spark</li>
<li>Internet connection is required.</li>
</ul>

<p>It&#39;s assumed that the node has CentOS 6.x installed on it. Although any version of Linux distribution should work fine.</p>

<h4>Hadoop client</h4>

<p>Zeppelin can work with multiple versions &amp; distributions of Hadoop. A complete list is available <a href="https://github.com/apache/zeppelin#build">here</a>. This document assumes Hadoop 2.7.x client libraries including configuration files are installed on Zeppelin node. It also assumes /etc/hadoop/conf contains various Hadoop configuration files. The location of Hadoop configuration files may vary, hence use appropriate location.</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash">hadoop version
Hadoop 2.7.1.2.3.1.0-2574
Subversion git@github.com:hortonworks/hadoop.git -r f66cf95e2e9367a74b0ec88b2df33458b6cff2d0
Compiled by jenkins on 2015-07-25T22:36Z
Compiled with protoc 2.5.0
From <span class="nb">source </span>with checksum 54f9bbb4492f92975e84e390599b881d
This <span class="nb">command </span>was run using /usr/hdp/2.3.1.0-2574/hadoop/lib/hadoop-common-2.7.1.2.3.1.0-2574.jar
</code></pre></div>
<h4>Spark</h4>

<p>Spark is supported out of the box and to take advantage of this, you need to Download appropriate version of Spark binary packages from <a href="http://spark.apache.org/downloads.html">Spark Download page</a> and unzip it.
Zeppelin can work with multiple versions of Spark. A complete list is available <a href="https://github.com/apache/zeppelin#build">here</a>.
This document assumes Spark 1.6.0 is installed at /usr/lib/spark.</p>

<blockquote>
<p>Note: Spark should be installed on the same node as Zeppelin.</p>

<p>Note: Spark&#39;s pre-built package for CDH 4 doesn&#39;t support yarn.</p>
</blockquote>

<h4>Zeppelin</h4>

<p>Checkout source code from <a href="https://github.com/apache/zeppelin.git">git://git.apache.org/zeppelin.git</a> or download binary package from <a href="https://zeppelin.apache.org/download.html">Download page</a>.
You can refer <a href="install.html">Install</a> page for the details.
This document assumes that Zeppelin is located under <code>/home/zeppelin/zeppelin</code>.</p>

<h2>Zeppelin Configuration</h2>

<p>Zeppelin configuration needs to be modified to connect to YARN cluster. Create a copy of zeppelin environment shell script.</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash">cp /home/zeppelin/zeppelin/conf/zeppelin-env.sh.template /home/zeppelin/zeppelin/conf/zeppelin-env.sh
</code></pre></div>
<p>Set the following properties</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span><span class="s2">&quot;/usr/java/jdk1.8.0_171&quot;</span>
<span class="nb">export </span><span class="nv">HADOOP_CONF_DIR</span><span class="o">=</span><span class="s2">&quot;/etc/hadoop/conf&quot;</span>
<span class="nb">export </span><span class="nv">ZEPPELIN_JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dhdp.version=2.3.1.0-2574&quot;</span>
<span class="nb">export </span><span class="nv">SPARK_HOME</span><span class="o">=</span><span class="s2">&quot;/usr/lib/spark&quot;</span>
</code></pre></div>
<p>As /etc/hadoop/conf contains various configurations of YARN cluster, Zeppelin can now submit Spark/Hive jobs on YARN cluster form its web interface. The value of hdp.version is set to 2.3.1.0-2574. This can be obtained by running the following command</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash">hdp-select status hadoop-client <span class="p">|</span> sed <span class="s1">&#39;s/hadoop-client - \(.*\)/\1/&#39;</span>
<span class="c"># It returned  2.3.1.0-2574</span>
</code></pre></div>
<h2>Start/Stop</h2>

<h3>Start Zeppelin</h3>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash"><span class="nb">cd</span> /home/zeppelin/zeppelin
bin/zeppelin-daemon.sh start
</code></pre></div>
<p>After successful start, visit http://[zeppelin-server-host-name]:8080 with your web browser.</p>

<h3>Stop Zeppelin</h3>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash">bin/zeppelin-daemon.sh stop
</code></pre></div>
<h2>Interpreter</h2>

<p>Zeppelin provides various distributed processing frameworks to process data that ranges from Spark and JDBC to name a few. This document describes to configure JDBC &amp; Spark interpreters.</p>

<h3>Hive</h3>

<p>Zeppelin supports Hive through JDBC interpreter. You might need the information to use Hive and can find in your hive-site.xml</p>

<p>Once Zeppelin server has started successfully, visit http://[zeppelin-server-host-name]:8080 with your web browser. Click on Interpreter tab next to Notebook dropdown. Look for Hive configurations and set them appropriately. Set them as per Hive installation on YARN cluster.
Click on Save button. Once these configurations are updated, Zeppelin will prompt you to restart the interpreter. Accept the prompt and the interpreter will reload the configurations.</p>

<h3>Spark</h3>

<p>It was assumed that 1.6.0 version of Spark is installed at /usr/lib/spark. Look for Spark configurations and click edit button to add the following properties</p>

<table class="table-configuration">
  <tr>
    <th>Property Name</th>
    <th>Property Value</th>
    <th>Remarks</th>
  </tr>
  <tr>
    <td>spark.master</td>
    <td>yarn-client</td>
    <td>In yarn-client mode, the driver runs in the client process, and the application master is only used for requesting resources from YARN.</td>
  </tr>
  <tr>
    <td>spark.driver.extraJavaOptions</td>
    <td>-Dhdp.version=2.3.1.0-2574</td>
    <td></td>
  </tr>
  <tr>
    <td>spark.yarn.am.extraJavaOptions</td>
    <td>-Dhdp.version=2.3.1.0-2574</td>
    <td></td>
  </tr>
</table>

<p>Click on Save button. Once these configurations are updated, Zeppelin will prompt you to restart the interpreter. Accept the prompt and the interpreter will reload the configurations.</p>

<p>Spark &amp; Hive notebooks can be written with Zeppelin now. The resulting Spark &amp; Hive jobs will run on configured YARN cluster.</p>

<h2>Debug</h2>

<p>Zeppelin does not emit any kind of error messages on web interface when notebook/paragraph is run. If a paragraph fails it only displays ERROR. The reason for failure needs to be looked into log files which is present in logs directory under zeppelin installation base directory. Zeppelin creates a log file for each kind of interpreter.</p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash"><span class="o">[</span>zeppelin@zeppelin-3529 logs<span class="o">]</span><span class="nv">$ </span><span class="nb">pwd</span>
/home/zeppelin/zeppelin/logs
<span class="o">[</span>zeppelin@zeppelin-3529 logs<span class="o">]</span><span class="nv">$ </span>ls -l
total 844
-rw-rw-r-- 1 zeppelin zeppelin  14648 Aug  3 14:45 zeppelin-interpreter-hive-zeppelin-zeppelin-3529.log
-rw-rw-r-- 1 zeppelin zeppelin 625050 Aug  3 16:05 zeppelin-interpreter-spark-zeppelin-zeppelin-3529.log
-rw-rw-r-- 1 zeppelin zeppelin 200394 Aug  3 21:15 zeppelin-zeppelin-zeppelin-3529.log
-rw-rw-r-- 1 zeppelin zeppelin  16162 Aug  3 14:03 zeppelin-zeppelin-zeppelin-3529.out
<span class="o">[</span>zeppelin@zeppelin-3529 logs<span class="o">]</span><span class="err">$</span>
</code></pre></div>
  </div>
</div>


      <hr>
      <footer>
        <!-- <p>&copy; 2024 The Apache Software Foundation</p>-->
      </footer>
    </div>

    


  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45176241-5', 'zeppelin.apache.org');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>



  </body>
</html>

