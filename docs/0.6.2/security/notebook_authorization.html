
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Notebook Authorization</title>
    <meta name="description" content="Notebook Authorization">
    <meta name="author" content="The Apache Software Foundation">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Le styles -->
    <link href="/docs/0.6.2/assets/themes/zeppelin/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/docs/0.6.2/assets/themes/zeppelin/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/docs/0.6.2/assets/themes/zeppelin/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- Js -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/docs/0.6.2/assets/themes/zeppelin/bootstrap/js/bootstrap.min.js"></script>
    <script src="/docs/0.6.2/assets/themes/zeppelin/js/docs.js"></script>
    <script src="/docs/0.6.2/assets/themes/zeppelin/js/anchor.min.js"></script>
    <script src="/docs/0.6.2/assets/themes/zeppelin/js/toc.js"></script>

    <!-- atom & rss feed -->
    <link href="/docs/0.6.2/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/docs/0.6.2/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>

  <body>
    
        <div id="menu" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/docs/0.6.2">
            <img src="/assets/themes/zeppelin/img/zeppelin_logo.png" width="50" alt="I'm zeppelin">
            <span style="vertical-align:middle">Zeppelin</span>
            <span style="vertical-align:baseline"><small>0.6.2</small></span>
          </a>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Quick Start <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/docs/0.6.2/index.html">What is Apache Zeppelin ?</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Getting Started</b><span></li>
                <li><a href="/docs/0.6.2/install/install.html">Install</a></li>
                <li><a href="/docs/0.6.2/install/install.html#apache-zeppelin-configuration">Configuration</a></li>
                <li><a href="/docs/0.6.2/quickstart/explorezeppelinui.html">Explore Zeppelin UI</a></li>
                <li><a href="/docs/0.6.2/quickstart/tutorial.html">Tutorial</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Basic Feature Guide</b><span></li>
                <li><a href="/docs/0.6.2/manual/dynamicform.html">Dynamic Form</a></li>
                <li><a href="/docs/0.6.2/manual/publish.html">Publish your Paragraph</a></li>
                <li><a href="/docs/0.6.2/manual/notebookashomepage.html">Customize Zeppelin Homepage</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>More</b><span></li>
                <li><a href="/docs/0.6.2/install/virtual_machine.html">Zeppelin on Vagrant VM</a></li>
                <li><a href="/docs/0.6.2/install/upgrade.html">Upgrade Zeppelin Version</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Interpreter <b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li><a href="/docs/0.6.2/manual/interpreters.html">Overview</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Usage</b><span></li>
                <li><a href="/docs/0.6.2/manual/interpreterinstallation.html">Interpreter Installation</a></li>
                <!--<li><a href="/docs/0.6.2/manual/dynamicinterpreterload.html">Dynamic Interpreter Loading</a></li>-->
                <li><a href="/docs/0.6.2/manual/dependencymanagement.html">Interpreter Dependency Management</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Available Interpreters</b><span></li>
                <li><a href="/docs/0.6.2/interpreter/alluxio.html">Alluxio</a></li>
                <li><a href="/docs/0.6.2/interpreter/bigquery.html">BigQuery</a></li>
                <li><a href="/docs/0.6.2/interpreter/cassandra.html">Cassandra</a></li>
                <li><a href="/docs/0.6.2/interpreter/elasticsearch.html">Elasticsearch</a></li>
                <li><a href="/docs/0.6.2/interpreter/flink.html">Flink</a></li>
                <li><a href="/docs/0.6.2/interpreter/geode.html">Geode</a></li>
                <li><a href="/docs/0.6.2/interpreter/hbase.html">HBase</a></li>
                <li><a href="/docs/0.6.2/interpreter/hdfs.html">HDFS</a></li>
                <li><a href="/docs/0.6.2/interpreter/hive.html">Hive</a></li>
                <li><a href="/docs/0.6.2/interpreter/ignite.html">Ignite</a></li>
                <li><a href="/docs/0.6.2/interpreter/jdbc.html">JDBC</a></li>
                <li><a href="/docs/0.6.2/interpreter/lens.html">Lens</a></li>
                <li><a href="/docs/0.6.2/interpreter/livy.html">Livy</a></li>
                <li><a href="/docs/0.6.2/interpreter/markdown.html">Markdown</a></li>
                <li><a href="/docs/0.6.2/interpreter/python.html">Python</a></li>
                <li><a href="/docs/0.6.2/interpreter/postgresql.html">Postgresql, HAWQ</a></li>
                <li><a href="/docs/0.6.2/interpreter/r.html">R</a></li>
                <li><a href="/docs/0.6.2/interpreter/scalding.html">Scalding</a></li>
                <li><a href="/docs/0.6.2/pleasecontribute.html">Shell</a></li>
                <li><a href="/docs/0.6.2/interpreter/spark.html">Spark</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Display System <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="title"><span><b>Basic Display System</b><span></li>
                <li><a href="/docs/0.6.2/displaysystem/basicdisplaysystem.html#text">Text</a></li>
                <li><a href="/docs/0.6.2/displaysystem/basicdisplaysystem.html#html">Html</a></li>
                <li><a href="/docs/0.6.2/displaysystem/basicdisplaysystem.html#table">Table</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Angular API</b><span></li>
                <li><a href="/docs/0.6.2/displaysystem/back-end-angular.html">Angular (backend API)</a></li>
                <li><a href="/docs/0.6.2/displaysystem/front-end-angular.html">Angular (frontend API)</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu" style="right: 0; left: auto;">
                <li class="title"><span><b>Notebook Storage</b><span></li>
                <li><a href="/docs/0.6.2/storage/storage.html#notebook-storage-in-local-git-repository">Git Storage</a></li>
                <li><a href="/docs/0.6.2/storage/storage.html#notebook-storage-in-s3">S3 Storage</a></li>
                <li><a href="/docs/0.6.2/storage/storage.html#notebook-storage-in-azure">Azure Storage</a></li>
                <li><a href="/docs/0.6.2/storage/storage.html#storage-in-zeppelinhub">ZeppelinHub Storage</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>REST API</b><span></li>
                <li><a href="/docs/0.6.2/rest-api/rest-interpreter.html">Interpreter API</a></li>
                <li><a href="/docs/0.6.2/rest-api/rest-notebook.html">Notebook API</a></li>
                <li><a href="/docs/0.6.2/rest-api/rest-configuration.html">Configuration API</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Security</b><span></li>
                <li><a href="/docs/0.6.2/security/authentication.html">Authentication for NGINX</a></li>
                <li><a href="/docs/0.6.2/security/shiroauthentication.html">Shiro Authentication</a></li>
                <li><a href="/docs/0.6.2/security/notebook_authorization.html">Notebook Authorization</a></li>
                <li><a href="/docs/0.6.2/security/interpreter_authorization.html">Interpreter & Data Resource Authorization</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Contibute</b><span></li>
                <li><a href="/docs/0.6.2/development/writingzeppelininterpreter.html">Writing Zeppelin Interpreter</a></li>
                <li><a href="/docs/0.6.2/development/howtocontribute.html">How to contribute (code)</a></li>
                <li><a href="/docs/0.6.2/development/howtocontributewebsite.html">How to contribute (website)</a></li>
              </ul>
            </li>
          </ul>
        </nav><!--/.navbar-collapse -->
      </div>
    </div>
    


    <div class="content">
      
<!--<div class="hero-unit Notebook Authorization">
  <h1></h1>
</div>
-->

<div class="row">
  <div class="col-md-12">
    <!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<h1>Zeppelin Notebook Authorization</h1>

<div id="toc"></div>

<h2>Overview</h2>

<p>We assume that there is an <strong>Shiro Authentication</strong> component that associates a user string and a set of group strings with every NotebookSocket. 
If you don&#39;t set the authentication components yet, please check <a href="./shiroauthentication.html">Shiro authentication for Apache Zeppelin</a> first.</p>

<h2>Authorization Setting</h2>

<p>You can set Zeppelin notebook permissions in each notebooks. Of course only <strong>notebook owners</strong> can change this configuration. 
Just click <strong>Lock icon</strong> and open the permission setting page in your notebook.</p>

<p>As you can see, each Zeppelin notebooks has 3 entities : </p>

<ul>
<li>Owners ( users or groups )</li>
<li>Readers ( users or groups )</li>
<li>Writers ( users or groups )</li>
</ul>

<p><center><img src="../assets/themes/zeppelin/img/docs-img/permission_setting.png"></center></p>

<p>Fill out the each forms with comma seperated <strong>users</strong> and <strong>groups</strong> configured in <code>conf/shiro.ini</code> file.
If the form is empty (*), it means that any users can perform that operation.</p>

<p>If someone who doesn&#39;t have <strong>read</strong> permission is trying to access the notebook or someone who doesn&#39;t have <strong>write</strong> permission is trying to edit the notebook, Zeppelin will ask to login or block the user. </p>

<p><center><img src="../assets/themes/zeppelin/img/docs-img/insufficient_privileges.png"></center></p>

<h2>How it works</h2>

<p>In this section, we will explain the detail about how the notebook authorization works in backend side.</p>

<h3>NotebookServer</h3>

<p>The <a href="https://github.com/apache/zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/socket/NotebookServer.java">NotebookServer</a> classifies every notebook operations into three categories: <strong>Read</strong>, <strong>Write</strong>, <strong>Manage</strong>.
Before executing a notebook operation, it checks if the user and the groups associated with the <code>NotebookSocket</code> have permissions. 
For example, before executing a <strong>Read</strong> operation, it checks if the user and the groups have at least one entity that belongs to the <strong>Reader</strong> entities.</p>

<h3>Notebook REST API call</h3>

<p>Zeppelin executes a <a href="https://github.com/apache/zeppelin/blob/master/zeppelin-server/src/main/java/org/apache/zeppelin/rest/NotebookRestApi.java">REST API call</a> for the notebook permission information.
In the backend side, Zeppelin gets the user information for the connection and allows the operation if the users and groups
associated with the current user have at least one entity that belongs to owner entities for the notebook.</p>

  </div>
</div>


      <hr>
      <footer>
        <!-- <p>&copy; 2016 The Apache Software Foundation</p>-->
      </footer>
    </div>

    


  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45176241-5', 'zeppelin.apache.org');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>



  </body>
</html>

