
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Generic JDBC Interpreter</title>
    <meta name="description" content="JDBC user guide">
    <meta name="author" content="The Apache Software Foundation">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Le styles -->
    <link href="/docs/0.6.0/assets/themes/zeppelin/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/docs/0.6.0/assets/themes/zeppelin/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/docs/0.6.0/assets/themes/zeppelin/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- Js -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/docs/0.6.0/assets/themes/zeppelin/bootstrap/js/bootstrap.min.js"></script>
    <script src="/docs/0.6.0/assets/themes/zeppelin/js/docs.js"></script>
    <script src="/docs/0.6.0/assets/themes/zeppelin/js/anchor.min.js"></script>
    <script src="/docs/0.6.0/assets/themes/zeppelin/js/toc.js"></script>

    <!-- atom & rss feed -->
    <link href="/docs/0.6.0/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/docs/0.6.0/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>

  <body>
    
        <div id="menu" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/docs/0.6.0">
            <img src="/assets/themes/zeppelin/img/zeppelin_logo.png" width="50" alt="I'm zeppelin">
            <span style="vertical-align:middle">Zeppelin</span>
            <span style="vertical-align:baseline"><small>0.6.0</small></span>
          </a>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Quick Start <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/docs/0.6.0/index.html">What is Apache Zeppelin ?</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Getting Started</b><span></li>
                <li><a href="/docs/0.6.0/install/install.html">Install</a></li>
                <li><a href="/docs/0.6.0/install/install.html#apache-zeppelin-configuration">Configuration</a></li>
                <li><a href="/docs/0.6.0/quickstart/explorezeppelinui.html">Explore Zeppelin UI</a></li>
                <li><a href="/docs/0.6.0/quickstart/tutorial.html">Tutorial</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Basic Feature Guide</b><span></li>
                <li><a href="/docs/0.6.0/manual/dynamicform.html">Dynamic Form</a></li>
                <li><a href="/docs/0.6.0/manual/publish.html">Publish your Paragraph</a></li>
                <li><a href="/docs/0.6.0/manual/notebookashomepage.html">Customize Zeppelin Homepage</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>More</b><span></li>
                <li><a href="/docs/0.6.0/install/virtual_machine.html">Zeppelin on Vagrant VM</a></li>
                <li><a href="/docs/0.6.0/install/upgrade.html">Upgrade Zeppelin Version</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Interpreter <b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li><a href="/docs/0.6.0/manual/interpreters.html">Overview</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Usage</b><span></li>
                <li><a href="/docs/0.6.0/manual/interpreterinstallation.html">Interpreter Installation</a></li>
                <!--<li><a href="/docs/0.6.0/manual/dynamicinterpreterload.html">Dynamic Interpreter Loading</a></li>-->
                <li><a href="/docs/0.6.0/manual/dependencymanagement.html">Interpreter Dependency Management</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Available Interpreters</b><span></li>
                <li><a href="/docs/0.6.0/interpreter/alluxio.html">Alluxio</a></li>
                <li><a href="/docs/0.6.0/interpreter/cassandra.html">Cassandra</a></li>
                <li><a href="/docs/0.6.0/interpreter/elasticsearch.html">Elasticsearch</a></li>
                <li><a href="/docs/0.6.0/interpreter/flink.html">Flink</a></li>
                <li><a href="/docs/0.6.0/interpreter/geode.html">Geode</a></li>
                <li><a href="/docs/0.6.0/interpreter/hbase.html">HBase</a></li>
                <li><a href="/docs/0.6.0/interpreter/hdfs.html">HDFS</a></li>
                <li><a href="/docs/0.6.0/interpreter/hive.html">Hive</a></li>
                <li><a href="/docs/0.6.0/interpreter/ignite.html">Ignite</a></li>
                <li><a href="/docs/0.6.0/interpreter/jdbc.html">JDBC</a></li>
                <li><a href="/docs/0.6.0/interpreter/lens.html">Lens</a></li>
                <li><a href="/docs/0.6.0/interpreter/livy.html">Livy</a></li>
                <li><a href="/docs/0.6.0/interpreter/markdown.html">Markdown</a></li>
                <li><a href="/docs/0.6.0/interpreter/python.html">Python</a></li>
                <li><a href="/docs/0.6.0/interpreter/postgresql.html">Postgresql, HAWQ</a></li>
                <li><a href="/docs/0.6.0/interpreter/r.html">R</a></li>
                <li><a href="/docs/0.6.0/interpreter/scalding.html">Scalding</a></li>
                <li><a href="/docs/0.6.0/pleasecontribute.html">Shell</a></li>
                <li><a href="/docs/0.6.0/interpreter/spark.html">Spark</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Display System <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="title"><span><b>Basic Display System</b><span></li>
                <li><a href="/docs/0.6.0/displaysystem/basicdisplaysystem.html#text">Text</a></li>
                <li><a href="/docs/0.6.0/displaysystem/basicdisplaysystem.html#html">Html</a></li>
                <li><a href="/docs/0.6.0/displaysystem/basicdisplaysystem.html#table">Table</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Angular API</b><span></li>
                <li><a href="/docs/0.6.0/displaysystem/back-end-angular.html">Angular (backend API)</a></li>
                <li><a href="/docs/0.6.0/displaysystem/front-end-angular.html">Angular (frontend API)</a></li>
              </ul>
            </li>
            <li>
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu" style="right: 0; left: auto;">
                <li class="title"><span><b>Notebook Storage</b><span></li>
                <li><a href="/docs/0.6.0/storage/storage.html#notebook-storage-in-local-git-repository">Git Storage</a></li>
                <li><a href="/docs/0.6.0/storage/storage.html#notebook-storage-in-s3">S3 Storage</a></li>
                <li><a href="/docs/0.6.0/storage/storage.html#notebook-storage-in-azure">Azure Storage</a></li>
                <li><a href="/docs/0.6.0/storage/storage.html#storage-in-zeppelinhub">ZeppelinHub Storage</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>REST API</b><span></li>
                <li><a href="/docs/0.6.0/rest-api/rest-interpreter.html">Interpreter API</a></li>
                <li><a href="/docs/0.6.0/rest-api/rest-notebook.html">Notebook API</a></li>
                <li><a href="/docs/0.6.0/rest-api/rest-configuration.html">Configuration API</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Security</b><span></li>
                <li><a href="/docs/0.6.0/security/authentication.html">Authentication for NGINX</a></li>
                <li><a href="/docs/0.6.0/security/shiroauthentication.html">Shiro Authentication</a></li>
                <li><a href="/docs/0.6.0/security/notebook_authorization.html">Notebook Authorization</a></li>
                <li><a href="/docs/0.6.0/security/interpreter_authorization.html">Interpreter & Data Resource Authorization</a></li>
                <li role="separator" class="divider"></li>
                <li class="title"><span><b>Contibute</b><span></li>
                <li><a href="/docs/0.6.0/development/writingzeppelininterpreter.html">Writing Zeppelin Interpreter</a></li>
                <li><a href="/docs/0.6.0/development/howtocontribute.html">How to contribute (code)</a></li>
                <li><a href="/docs/0.6.0/development/howtocontributewebsite.html">How to contribute (website)</a></li>
              </ul>
            </li>
          </ul>
        </nav><!--/.navbar-collapse -->
      </div>
    </div>
    

    <div class="content">
      
<!--<div class="hero-unit Generic JDBC Interpreter">
  <h1></h1>
</div>
-->

<div class="row">
  <div class="col-md-12">
    <h1>Generic JDBC  Interpreter for Apache Zeppelin</h1>

<div id="toc"></div>

<h2>Overview</h2>

<p>This interpreter lets you create a JDBC connection to any data source, by now it has been tested with:</p>

<ul>
<li>Postgres</li>
<li>MySql</li>
<li>MariaDB</li>
<li>Redshift</li>
<li>Apache Hive</li>
<li>Apache Phoenix</li>
<li>Apache Drill (Details on using <a href="https://drill.apache.org/docs/using-the-jdbc-driver">Drill JDBC Driver</a>)</li>
<li>Apache Tajo</li>
</ul>

<p>If someone else used another database please report how it works to improve functionality.</p>

<h2>Create Interpreter</h2>

<p>When you create a interpreter by default use PostgreSQL with the next properties:</p>

<table class="table-configuration">
  <tr>
    <th>name</th>
    <th>value</th>
  </tr>
  <tr>
    <td>common.max_count</td>
    <td>1000</td>
  </tr>
  <tr>
    <td>default.driver</td>
    <td>org.postgresql.Driver</td>
  </tr>
  <tr>
    <td>default.password</td>
    <td>********</td>
  </tr>
  <tr>
    <td>default.url</td>
    <td>jdbc:postgresql://localhost:5432/</td>
  </tr>
  <tr>
    <td>default.user</td>
    <td>gpadmin</td>
  </tr>      
</table>

<p>It is not necessary to add driver jar to the classpath for PostgreSQL as it is included in Zeppelin.</p>

<h3>Simple connection</h3>

<p>Prior to creating the interpreter it is necessary to add maven coordinate or path of the JDBC driver to the Zeppelin classpath. To do this you must edit dependencies artifact(ex. <code>mysql:mysql-connector-java:5.1.38</code>) in interpreter menu as shown:</p>

<div class="row">
  <div class="col-md-11">
    <img src="../assets/themes/zeppelin/img/docs-img/jdbc-simple-connection-setting.png" />
  </div>
</div>

<p>To create the interpreter you need to specify connection parameters as shown in the table.</p>

<table class="table-configuration">
  <tr>
    <th>name</th>
    <th>value</th>
  </tr>
  <tr>
    <td>common.max_count</td>
    <td>1000</td>
  </tr>
  <tr>
    <td>default.driver</td>
    <td>driver name</td>
  </tr>
  <tr>
    <td>default.password</td>
    <td>********</td>
  </tr>
  <tr>
    <td>default.url</td>
    <td>jdbc url</td>
  </tr>
  <tr>
    <td>default.user</td>
    <td>user name</td>
  </tr>      
</table>

<h3>Multiple connections</h3>

<p>JDBC interpreter also allows connections to multiple data sources. It is necessary to set a prefix for each connection to reference it in the paragraph in the form of <code>%jdbc(prefix)</code>. Before you create the interpreter it is necessary to add each driver&#39;s maven coordinates or JDBC driver&#39;s jar file path to the Zeppelin classpath. To do this you must edit the dependencies of JDBC interpreter in interpreter menu as following:</p>

<div class="row">
  <div class="col-md-11">
    <img src="../assets/themes/zeppelin/img/docs-img/jdbc-multi-connection-setting.png" />
  </div>
</div>

<p>You can add all the jars you need to make multiple connections into the same JDBC interpreter. To create the interpreter you must specify the parameters. For example we will create two connections to MySQL and Redshift, the respective prefixes are <code>default</code> and <code>redshift</code>:</p>

<table class="table-configuration">
  <tr>
    <th>name</th>
    <th>value</th>
  </tr>
  <tr>
    <td>common.max_count</td>
    <td>1000</td>
  </tr>
  <tr>
    <td>default.driver</td>
    <td>com.mysql.jdbc.Driver</td>
  </tr>
  <tr>
    <td>default.password</td>
    <td>********</td>
  </tr>
  <tr>
    <td>default.url</td>
    <td>jdbc:mysql://localhost:3306/</td>
  </tr>
  <tr>
    <td>default.user</td>
    <td>mysql-user</td>
  </tr>
  <tr>
    <td>redshift.driver</td>
    <td>com.amazon.redshift.jdbc4.Driver</td>
  </tr>
  <tr>
    <td>redshift.password</td>
    <td>********</td>
  </tr>
  <tr>
    <td>redshift.url</td>
    <td>jdbc:redshift://examplecluster.abc123xyz789.us-west-2.redshift.amazonaws.com:5439</td>
  </tr>
  <tr>
    <td>redshift.user</td>
    <td>redshift-user</td>
  </tr>      
</table>

<h2>Bind to Notebook</h2>

<p>In the <code>Notebook</code> click on the <code>settings</code> icon at the top-right corner. Use select/deselect to specify the interpreters to be used in the <code>Notebook</code>.</p>

<h2>More Properties</h2>

<p>You can modify the interpreter configuration in the <code>Interpreter</code> section. The most common properties are as follows, but you can specify other properties that need to be connected.</p>

<p><table class="table-configuration">
   <tr>
     <th>Property Name</th>
     <th>Description</th>
   </tr>
   <tr>
     <td>{prefix}.url</td>
     <td>JDBC URL to connect, the URL must include the name of the database </td>
   </tr>
   <tr>
     <td>{prefix}.user</td>
     <td>JDBC user name</td>
   </tr>
   <tr>
     <td>{prefix}.password</td>
     <td>JDBC password</td>
   </tr>
   <tr>
     <td>{prefix}.driver</td>
     <td>JDBC driver name.</td>
   </tr>
   <tr>
     <td>common.max_result</td>
     <td>Max number of SQL result to display to prevent the browser overload. This is  common properties for all connections</td>
   </tr><br>
 </table></p>

<p>To develop this functionality use this <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html#getConnection%28java.lang.String,%20java.util.Properties%29">method</a>. For example if a connection needs a schema parameter, it would have to add the property as follows:</p>

<table class="table-configuration">
  <tr>
    <th>name</th>
    <th>value</th>
  </tr>
  <tr>
    <td>{prefix}.schema</td>
    <td>schema_name</td>
  </tr>
</table>

<h2>Examples</h2>

<h3>Hive</h3>

<h4>Properties</h4>

<p><table class="table-configuration">
   <tr>
     <th>Name</th>
     <th>Value</th>
   </tr>
   <tr>
     <td>hive.driver</td>
     <td>org.apache.hive.jdbc.HiveDriver</td>
   </tr>
   <tr>
     <td>hive.url</td>
     <td>jdbc:hive2://localhost:10000</td>
   </tr>
   <tr>
     <td>hive.user</td>
     <td>hive<em>user</td>
   </tr>
   <tr>
     <td>hive.password</td>
     <td>hive</em>password</td>
   </tr>
 </table></p>

<h4>Dependencies</h4>

<p><table class="table-configuration">
   <tr>
     <th>Artifact</th>
     <th>Excludes</th>
   </tr>
   <tr>
     <td>org.apache.hive:hive-jdbc:0.14.0</td>
     <td></td>
   </tr>
   <tr>
     <td>org.apache.hadoop:hadoop-common:2.6.0</td>
     <td></td>
   </tr>
 </table></p>

<h3>Phoenix</h3>

<h4>Properties</h4>

<p><table class="table-configuration">
   <tr>
     <th>Name</th>
     <th>Value</th>
   </tr>
   <tr>
     <td>phoenix.driver</td>
     <td>org.apache.phoenix.jdbc.PhoenixDriver</td>
   </tr>
   <tr>
     <td>phoenix.url</td>
     <td>jdbc:phoenix:localhost:2181:/hbase-unsecure</td>
   </tr>
   <tr>
     <td>phoenix.user</td>
     <td>phoenix<em>user</td>
   </tr>
   <tr>
     <td>phoenix.password</td>
     <td>phoenix</em>password</td>
   </tr>
 </table></p>

<h4>Dependencies</h4>

<p><table class="table-configuration">
   <tr>
     <th>Artifact</th>
     <th>Excludes</th>
   </tr>
   <tr>
     <td>org.apache.phoenix:phoenix-core:4.4.0-HBase-1.0</td>
     <td></td>
   </tr>
 </table></p>

<h3>Tajo</h3>

<h4>Properties</h4>

<p><table class="table-configuration">
   <tr>
     <th>Name</th>
     <th>Value</th>
   </tr>
   <tr>
     <td>tajo.driver</td>
     <td>org.apache.tajo.jdbc.TajoDriver</td>
   </tr>
   <tr>
     <td>tajo.url</td>
     <td>jdbc:tajo://localhost:26002/default</td>
   </tr>
 </table></p>

<h4>Dependencies</h4>

<p><table class="table-configuration">
   <tr>
     <th>Artifact</th>
     <th>Excludes</th>
   </tr>
   <tr>
     <td>org.apache.tajo:tajo-jdbc:0.11.0</td>
     <td></td>
   </tr>
 </table></p>

<h2>How to use</h2>

<h3>Reference in paragraph</h3>

<p>Start the paragraphs with the <code>%jdbc</code>, this will use the <code>default</code> prefix for connection. If you want to use other connection you should specify the prefix of it as follows <code>%jdbc(prefix)</code>:</p>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">jdbc</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db_name</span><span class="p">;</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">jdbc</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db_name</span><span class="p">;</span>
</code></pre></div>
<h3>Apply Zeppelin Dynamic Forms</h3>

<p>You can leverage <a href="../manual/dynamicform.html">Zeppelin Dynamic Form</a> inside your queries. You can use both the <code>text input</code> and <code>select form</code> parametrization features</p>
<div class="highlight"><pre><code class="sql language-sql" data-lang="sql"><span class="o">%</span><span class="n">jdbc</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">performer</span>
<span class="k">FROM</span> <span class="n">demo</span><span class="p">.</span><span class="n">performers</span>
<span class="k">WHERE</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
</code></pre></div>
<h2>Bugs &amp; Reporting</h2>

<p>If you find a bug for this interpreter, please create a <a href="https://issues.apache.org/jira/browse/ZEPPELIN-382?jql=project%20%3D%20ZEPPELIN">JIRA</a> ticket.</p>

  </div>
</div>


      <hr>
      <footer>
        <!-- <p>&copy; 2016 The Apache Software Foundation</p>-->
      </footer>
    </div>

    


  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45176241-5', 'zeppelin.apache.org');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>



  </body>
</html>

